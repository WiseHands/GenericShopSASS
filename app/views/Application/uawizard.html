<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

    <title>Створення магазину</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Righteous&display=swap" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="icon"
          type="image/png"
          href="wisehands/assets/images/favicon.png">
</head>

<style>
    body, p, h1, h2, h3, h4, h5, h6, i, a {
        margin: 0;
        padding: 0;
        font-family: 'Roboto', 'Helvetica', sans-serif;
        overflow-x: hidden;
        font-size: 16px;
        box-sizing: border-box;
    }
    .wizard-main {
        display: flex;
        height: 100vh;
    }
    .wizard-img {
        flex-basis: 40%;
        background: url("../wisehands/landing/images/wizard.jpg") no-repeat;
        background-size: cover;
        background-position: center;
    }
    .wizard-img img {
        width: 100%;
        height: 100vh;
    }
    .wizard-block {
        flex-basis: 60%;
    }
    .wizard-form {
        width: 80%;
        height: 750px;
        margin: 1rem auto;
        border-radius: 10px;
        box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.3), 0px 5px 5px 0px rgba(0,0,0,0.14), -1px -2px 2px -1px rgba(0,0,0,0.12);
        position: relative;
    }
    .wizard-form h2 {
        text-align: center;
        font-size: 1.3rem;
        font-weight: 600;
        padding: 2rem 0 1rem 0;
    }
    .steps {
        display: flex;
        width: 90%;
        margin: 0 auto 1rem auto;
        padding: 1rem 0;
        border-top: 1px solid #ebebeb;
        border-bottom: 1px solid #ebebeb;
    }
    .step {
        display: flex;
        align-items: center;
        width: 33%;
        padding-left: 1rem;
    }
    .step:hover {
        cursor: pointer;
    }
    #step2 {
        border-left: 1px solid #ebebeb ;
        border-right: 1px solid #ebebeb ;
    }
    .wiz-step {
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 50%;
        border: 2px solid black;
        width: 36px;
        height: 36px;
        margin-right: 0.5rem;
    }
    .step-active {
        color: #20b2aa;
        border: 2px solid #20b2aa;
    }
    .wiz-span {
        color: #20b2aa;
    }
    .wiz-step p {
        font-size: 1.5rem;
        font-weight: 600;
    }
    .step2-form, .step3-form {
        display: none;
    }
    .step1-form, .step2-form, .step3-form {
        width: 90%;
        margin: 0 auto 1rem auto;
    }
    .form-field {
        position: relative;
    }
    .form-field-store-domain {
        position: relative;
        width: 30%;
        font-weight: 600;
    }
    .store-domain {
        display: flex;
        align-items: flex-end;
    }
    .store-domain-text {
        padding-top: 1rem;
    }
    .store-domain p {
        font-weight: 600;
        margin-bottom: 1rem;
    }
    #store-domain {
        padding-bottom: 0;
        text-align: right;
    }
    #store-name {
        margin-bottom: rem;
    }
    .form-field input, .form-field-store-domain input, .wizard-socialnetwork input {
        width: 100%;
        box-sizing: border-box;
        margin: 1rem 0;
        padding: 1rem 0 1rem 1rem;
        border: none;
        border-bottom: 1px solid #9e9e9e;
    }
    .form-field input:focus, .wizard-socialnetwork input:focus {
        outline: none;
    }
    .form-field label, .wizard-socialnetwork label {
        font-size: 1rem;
        position:absolute;
        pointer-events:none;
        top: 31px;
        transition:0.2s ease all;
        -moz-transition:0.2s ease all;
        -webkit-transition:0.2s ease all;
    }
    .form-field input:focus ~ label, .form-field input:not(:placeholder-shown) ~ label, .wizard-socialnetwork input:focus ~ label, .wizard-socialnetwork input:not(:placeholder-shown) ~ label  		{
        top: 0;
        font-size:0.9rem;
        color:#20b2aa;
    }
    .highlight 	{
        position:relative;
        display:block;
        width:100%;
    }
    .highlight:before, .highlight:after 	{
        content:'';
        height:2px;
        width:0;
        bottom:1px;
        position:absolute;
        top: -17px;
        background:#20b2aa;
        transition:0.2s ease all;
        -moz-transition:0.2s ease all;
        -webkit-transition:0.2s ease all;
    }
    .highlight:before {
        left:50%;
    }
    .highlight:after {
        right:50%;
    }

    /* active state */
    input:focus ~ .highlight:before, input:focus ~ .highlight:after {
        width:50%;
    }
    textarea {
        width: 100%;
        height: 150px;
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-sizing: border-box;
        margin-top: 1rem;
        margin-bottom: 16px;
        resize: vertical;
    }
    .step3-form p:first-child {
        margin-bottom: 0.5rem;
    }
    .wizard-delivery, .wizard-payment {
        margin-bottom: 1rem;
    }
    .form-button {
        display: flex;
        justify-content: flex-end;
        width: 90%;
        margin: 3rem auto 1rem auto;
        position: absolute;
        right: 2rem;
        bottom: 2rem;
    }

    button {
        background-color: #fff;
        border: 2px solid #000;
        height: 50px;
        width: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-left: 1rem;
    }
    button:hover, button:hover {
        color: #fff;
        background-color: #000;
        cursor: pointer;
    }

    @media screen and (max-width: 768px) {
        .wizard-form {
            width: 90%;
            height: 850px;
        }
        .wizard-img {
            display: none;
        }
        .wizard-block {
            flex-basis: 100%;
        }
        .steps {
            flex-direction: column;
        }
        .step {
            width: 100%;
            margin: 0.5rem 0;
        }
        .step1-form, .step2-form, .step3-form {
            width: 95%;
        }
        #step2 {
            border-left: 0;
            border-right: 0;
        }
        .form-field-store-domain {
            width: auto;
        }
        textarea {
            height: 200px;
        }
    }
</style>

<body>
<div class="wizard-main">
    <div class="wizard-img">
    </div>

    <div class="wizard-block">

        <form name="wizard-form" class="wizard-form" id="regForm">
            <h2>Створення магазину</h2>
            <div class="steps">
                <div class="step" id="step1">
                    <div class="wiz-step" id="wizStep1">
                        <p>1</p>
                    </div>
                    <span id="wizSpan1">Магазин</span>
                </div>
                <div class="step" id="step2">
                    <div class="wiz-step" id="wizStep2">
                        <p>2</p>
                    </div>
                    <span id="wizSpan2">Контакти</span>
                </div>
                <div class="step" id="step3">
                    <div class="wiz-step" id="wizStep3">
                        <p>3</p>
                    </div>
                    <span id="wizSpan3">Конфігурація</span>
                </div>
            </div>
            <div class="step1-form">
                <div class="form-field">
                    <input id="store-name" type="text" name="shopName" required placeholder=" "
                           onblur="setMainSettingForShop(event)">
                    <span class="highlight"></span>
                    <label for="store-name">Назва магазину</label>
                </div>
                <p class="store-domain-text">Вкажіть веб-адресу Вашого магазину</p>
                <div class="store-domain">
                    <div class="form-field-store-domain">
                        <input id="store-domain" type="text" name="shopDomain" required placeholder="mynewstore"
                               onblur="setMainSettingForShop(event)">
                    </div>
                    <p>.wstore.pro</p>
                </div>
                <textarea id="store-about" placeholder="Опис магазину" name="shopDescription"
                          onblur="setMainSettingForShop(event)"></textarea>
                <div class="form-button">
                    <button type="button" id="prevBtn1" onclick="">Назад</button>
                    <button type="submit" id="nextBtn1" onclick="">Далі</button>
                </div>
            </div>
            <div class="step2-form">
                <div class="form-field">
                    <input id="store-city" type="text" name="name" required placeholder=" ">
                    <span class="highlight"></span>
                    <label for="store-city">Місто</label>
                </div>
                <div class="form-field">
                    <input id="store-street" type="text" name="name" required placeholder=" ">
                    <span class="highlight"></span>
                    <label for="store-street">Вулиця</label>
                </div>
                <div class="form-field">
                    <input id="store-house" type="text" name="name" placeholder=" ">
                    <span class="highlight"></span>
                    <label for="store-house">Будинок</label>
                </div>
                <div class="form-field">
                    <input id="store-legalinfo" type="text" name="name" placeholder=" ">
                    <span class="highlight"></span>
                    <label for="store-legalinfo">Назва юридичної особи</label>
                </div>
                <div class="form-button">
                    <button type="button" id="prevBtn2" onclick="">Назад</button>
                    <button type="button" id="nextBtn2" onclick="">Далі</button>
                </div>
              </div>

            <div class="step3-form">
                <div class="wizard-delivery">
                    <p>Виберіть варіанти отримання товару</p>
                    <input type="checkbox" id="wizardСourier" name="courier" value="courier">
                    <label for="wizardСourier">Кур'єр</label><br>
                    <input type="checkbox" id="wizardNp" name="novaposhta" value="novaposhta">
                    <label for="wizardNp">Нова пошта</label><br>
                    <input type="checkbox" id="wizardSelf" name="self" value="self">
                    <label for="wizardSelf">Самовивіз</label><br>
                </div>
                <div class="wizard-payment">
                    <p>Виберіть варіант прийому оплати від клієнтів</p>
                    <input type="checkbox" id="wizardOnlinePay" name="onlinepay" value="onlinepay">
                    <label for="wizardOnlinePay">Онлайн-оплата</label><br>
                    <input type="checkbox" id="wizardCash" name="cash" value="cash">
                    <label for="wizardCash">Готівка</label><br>
                </div>
                <div class="wizard-socialnetwork">
                    <p>Вкажіть посилання на соціальні мережі</p>
                    <div class="form-field">
                        <input id="store-facebook" type="text" name="name" required placeholder=" ">
                        <span class="highlight"></span>
                        <label for="store-facebook">Facebook</label>
                    </div>
                    <div class="form-field">
                        <input id="store-instagram" type="text" name="name" required placeholder=" ">
                        <span class="highlight"></span>
                        <label for="store-instagram">Instagram</label>
                    </div>
                    <div class="form-field">
                        <input id="store-youtube" type="text" name="name" required placeholder=" ">
                        <span class="highlight"></span>
                        <label for="store-youtube">Youtube</label>
                    </div>
                </div>
                <div class="form-button">
                    <button type="button" id="prevBtn3" onclick="nextStep">Назад</button>
                    <button type="button" id="nextBtn3" onclick="">Далі</button>
                </div>
            </div>

        </form>
    </div>
</div>

<script>
    let currentStep = 0;
    nextStep(currentStep);
    function nextStep() {
        if (currentStep == 0) {
            document.getElementById("prevBtn1").style.display = "none";
            document.getElementById("wizStep1").classList.add('step-active');
            document.getElementById("wizSpan1").classList.add('wiz-span');
        }
        else {
            document.getElementById("prevBtn").style.display = "flex";
        }

        document.getElementById("nextBtn1").addEventListener("click", nextPage1);
        function nextPage1() {
            document.querySelector(".step1-form").style.display = 'none';
            document.querySelector(".step2-form").style.display = 'block';
            document.getElementById("wizStep1").classList.remove('step-active')
            document.getElementById("wizStep2").classList.add('step-active')
            document.getElementById("wizSpan1").classList.remove('wiz-span')
            document.getElementById("wizSpan2").classList.add('wiz-span')
        }

        document.getElementById("prevBtn2").addEventListener("click", prevPage2);
        function prevPage2() {
            document.querySelector(".step2-form").style.display = 'none';
            document.querySelector(".step1-form").style.display = 'block';
            document.getElementById("wizStep2").classList.remove('step-active')
            document.getElementById("wizStep1").classList.add('step-active')
            document.getElementById("wizSpan2").classList.remove('wiz-span')
            document.getElementById("wizSpan1").classList.add('wiz-span')
        }

        document.getElementById("nextBtn2").addEventListener("click", nextPage2);
        function nextPage2() {
            document.querySelector(".step2-form").style.display = 'none';
            document.querySelector(".step3-form").style.display = 'block';
            document.getElementById("nextBtn3").innerHTML = "Готово";
            document.getElementById("wizStep2").classList.remove('step-active')
            document.getElementById("wizStep3").classList.add('step-active')
            document.getElementById("wizSpan2").classList.remove('wiz-span')
            document.getElementById("wizSpan3").classList.add('wiz-span')
        }

        document.getElementById("prevBtn3").addEventListener("click", prevPage3);
        function prevPage3() {
            document.querySelector(".step3-form").style.display = 'none';
            document.querySelector(".step2-form").style.display = 'block';
            document.getElementById("wizStep3").classList.remove('step-active')
            document.getElementById("wizStep2").classList.add('step-active')
            document.getElementById("wizSpan3").classList.remove('wiz-span')
            document.getElementById("wizSpan2").classList.add('wiz-span')
        }

    }

    function setMainSettingForShop(event) {
        console.log('setMainSettingForShop: ', event.target.name, event.target.value);
        _generateRequest(event.target.name, event.target.value);
    }

    function _generateRequest(nameParams, valueParams) {
        let token = localStorage.getItem('JWT_TOKEN');
        const params = '?' + nameParams + '=' + valueParams;
        const url = '/api/wizard/check-domain-name' + params;
        console.log("params => ", params);
        console.log("token => ", token);
        console.log("send URL => ", '/api/wizard/check-domain-name' + params);
        fetch(url, {
            method: 'POST',
            headers: {
                authorization:  'Bearer ' + token
            }

        }).then(function (response) {
            console.log("response response: ", response);
            return response.json();
        }).then(function (data) {
            console.log("response data: ", data);

        });
    }
</script>
<script>

</script>
</body>
</html>