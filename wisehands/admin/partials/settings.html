<nav class="double-navbar navbar navbar-fixed-top unique-color z-depth-1 primaryColor" role="navigation">
    <div class="container-fluid">
        <div class="row vcentering">
            <div class="col-xs-2 noPaddingLeft">
                <a data-activates="slide-out" class="button-collapse sideNavButtonStyling"><i class="fa fa-bars"></i></a>
            </div>
            <div class="col-xs-8 text-center white-text">
                <h5>
                    {{'settings.settings' | translate}}
                </h5>
            </div>
            <a class="col-xs-2 noRightPadding">
                <i class="fa fa-plus-circle whiteColor pull-right"
                   aria-haspopup="true"
                   aria-expanded="false"
                   data-toggle="modal"
                   data-target="#createNewStoreModal">
                </i>
            </a>
        </div>
    </div>
</nav>
<div class="container-fluid noSidePadding">
    <div class="row text-center">
        <spinner class="center-block" name="mySpinner" img-src="wisehands/assets/images/spinner/box.gif" show="loading"></spinner>
    </div>
    <div class="btn-group btn-group-justified col-xs-12 z-index" role="group" aria-label="..." ng-hide="loading">
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-primary active disabled">{{'settings.general' | translate}}</button>
        </div>
        <div class="btn-group" role="group">
            <a href="#/viewsettings" type="button" class="btn btn-primary">{{'settings.view' | translate}}</a>
        </div>
    </div>
    <form class="col-md-12 noSidePadding" id="settingsForm" name="settingsForm" ng-hide="loading">
        <div class="input-field col-md-12">
            <p>{{'settings.shop' | translate}}</p>
            <select class="form-control"
                    ng-model="selectedShop"
                    ng-change="shopSelected(shop)"
                    ng-options="shop as shop.shopName for shop in shops">
            </select>
        </div>
        <div class="input-field col-md-12">
            <p>{{'settings.shopName' | translate}}</p>
            <input id="shopName" type="text" class="validate" ng-model="selectedShop.shopName">
        </div>
        <div class="input-field col-md-12">
            <div ng-translate-language-select></div>
        </div>


        <!--<div id="paymentButton" class="input-field col-md-12 z-index">-->
            <!--<h5>Рахунок</h5>-->
            <!--<div class="col-sm-6">-->
                <!--<p>Баланс: {{balance.balance | number:2}} грн<a href="#/transactions"> (Виписка)</a></p>-->
            <!--</div>-->
            <!--<div class="col-sm-3">-->
                <!--<input id="balance" type="number" class="validate" ng-model="selectedShop.balance" placeholder="Сума поповнення">-->
            <!--</div>-->
            <!--<div class="col-sm-3">-->
                <!--<button type="button" class="btn btn-primary waves-effect waves-light btn-block" ng-click="increaseBalance()" ng-disabled="!selectedShop.balance">Поповнити</button>-->
            <!--</div>-->
        <!--</div>-->
        <div class="input-field col-md-12 z-index-2">
            <h5>{{'settings.workingHours' | translate}}</h5>
            <div class="col-sm-6">
                <p>{{'settings.from' | translate}}:</p>
                <input id="startTime" type="time" class="validate" ng-model="selectedShop.startTime">
            </div>
            <div class="col-sm-6">
                <p>{{'settings.to' | translate}}:</p>
                <input id="endTime" type="time" class="validate" ng-model="selectedShop.endTime">
            </div>
        </div>
        <div class="input-field col-md-12 z-index-3">
            <p>LiqPay</p>
            <div class="col-sm-6">
                <p>{{'settings.publicKey' | translate}}</p>
                <input id="publicLiqPay" type="text" class="validate" ng-model="selectedShop.liqpayPublicKey">
            </div>
            <div class="col-sm-6">
                <p>{{'settings.privateKey' | translate}}</p>
                <input id="privateLiqPay" type="password" class="validate" ng-model="selectedShop.liqpayPrivateKey">
            </div>
        </div>
        <div class="input-field col-md-12">
            <p>Google</p>
            <div class="col-sm-6">
                <p>{{'settings.siteVerification' | translate}}</p>
                <input id="verification" type="text" class="validate" ng-model="selectedShop.googleWebsiteVerificator">
            </div>
            <div class="col-sm-6">
                <p>Analytics</p>
                <input id="analytics" type="text" class="validate" ng-model="selectedShop.googleAnalyticsCode">
            </div>
            <div class="col-sm-6">
                <p>Static Map API Key<a href="https://developers.google.com/maps/documentation/static-maps/get-api-key" target="_blank"><i class="fa fa-question-circle"></i></a></p>
                <input id="staticMap" type="text" class="validate" ng-model="selectedShop.googleStaticMapsApiKey">
            </div>
            <div class="col-sm-6">
                <p>Map API Key <a href="https://developers.google.com/maps/documentation/javascript/get-api-key" target="_blank"><i class="fa fa-question-circle"></i></a></p>
                <input id="map" type="text" class="validate" ng-model="selectedShop.googleMapsApiKey">
            </div>
        </div>
        <div class="col-md-12">
            <a class="btn btn-primary waves-effect waves-light pull-right" ng-click="updateStoreSettings()">{{'categories.save' | translate}}</a>
        </div>
    </form>
</div>

<div class="modal fade" id="createNewStoreModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">{{'settings.newShop' | translate}}</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <form class="col-md-12" name="createNewStoreForm">
                        <div class="input-field">
                            <input id="newShopName" type="text" class="validate" ng-model="newStore.name" required>
                            <label for="newShopName">{{'settings.shopName' | translate}}</label>
                        </div>
                        <div class="input-field">
                            <label for="domain">{{'settings.domen' | translate}} ({{'settings.domainTips' | translate}})</label>
                            <input id="domain" type="text" class="validate" ng-model="newStore.domain" pattern="^[a-z0-9-]+$" required>
                            <p class="text-center" ng-show="newStore.domain">{{'settings.domainTips2' | translate}}:</p>
                            <p class="text-center" ng-show="newStore.domain">http://{{newStore.domain}}.wisehands.me</p>
                        </div>
                        <div class="text-center">
                            <p class="errorTextStyling text-center">{{errorMessage}}</p>
                            <button type="submit" class="btn btn-success waves-effect waves-light" ng-click="createNewStore()" ng-disabled="createNewStoreForm.$invalid">{{'categories.create' | translate}}</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="proceedWithPayment"></div>