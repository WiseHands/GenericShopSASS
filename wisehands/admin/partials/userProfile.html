<nav class="double-navbar navbar navbar-fixed-top unique-color z-depth-1 primaryColor" role="navigation">
    <div class="container-fluid">
        <div class="row vcentering">
            <a class="col-xs-2 noPaddingLeft"
               type="button"
               href="javascript:history.back()">
                <i class="fa fa-arrow-circle-left whiteColor pull-left">
                </i>
            </a>

            <div class="col-xs-8 text-center">
                <h5 class="white-text">{{'userprofile.myProfile' | translate}}</h5>
            </div>
            <a class="col-xs-2 noRightPadding">
                <i class="fa fa-save whiteColor pull-right"
                   ng-click="updateUserInfo()">
                </i>
            </a>
        </div>
    </div>
</nav>
<div class="container-fluid noSidePadding">
    <div class="row text-center">
        <spinner class="center-block" name="mySpinner" img-src="wisehands/assets/images/spinner/box.gif" show="loading"></spinner>
    </div>
    <form class="col-md-12 noSidePadding" id="userInfoForm" name="userInfoForm" ng-hide="loading">
        <div class="input-field col-md-6">
            <p>{{'userprofile.fullname' | translate}}</p>
            <input type="text" class="validate" ng-model="userInfo.name">
        </div>
        <div class="input-field col-md-6">
            <p>{{'singleOrder.Phone' | translate}}</p>
            <input type="tel" class="validate" ng-model="userInfo.phone" ng-disabled="!userInfo.isGoogleSignIn">
        </div>
        <div class="input-field col-md-6">
            <p>E-mail</p>
            <input type="email" class="validate" ng-model="userInfo.email" ng-disabled="userInfo.isGoogleSignIn">
        </div>
        <div class="input-field col-xs-12 vcentering noSidePadding">
            <div class="col-xs-6">
                <p>{{'settings.shop' | translate}}</p>
                    <select class="form-control col-md-6"
                        ng-model="selectedShop"
                        ng-change="shopSelected(shop)"
                        ng-options="shop as shop.shopName for shop in shops">
                </select>
            </div>
            <div class="col-xs-6">
                <a class="btn-floating btn-medium waves-effect waves-light red pull-right" data-toggle="modal" data-target="#createNewStoreModal">
                    <i class="material-icons">add</i>
                </a>
            </div>
        </div>

    </form>
</div>
<div class="modal fade" id="createNewStoreModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">{{'settings.newShop' | translate}}</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <form class="col-md-12" name="createNewStoreForm">
                        <div class="input-field">
                            <input id="newShopName" type="text" class="validate" ng-model="newStore.name" required>
                            <label for="newShopName">{{'settings.shopName' | translate}}</label>
                        </div>
                        <div class="input-field">
                            <label for="domain">{{'settings.domen' | translate}} ({{'settings.domainTips' | translate}})</label>
                            <input id="domain" type="text" class="validate" ng-model="newStore.domain" pattern="^[a-z0-9-]+$" required>
                            <p class="text-center" ng-show="newStore.domain">{{'settings.domainTips2' | translate}}:</p>
                            <p class="text-center" ng-show="newStore.domain">http://{{newStore.domain}}.wisehands.me</p>
                        </div>
                        <div class="text-center">
                            <p class="errorTextStyling text-center">{{errorMessage}}</p>
                            <button type="submit" class="btn btn-success waves-effect waves-light" ng-click="createNewStore()" ng-disabled="createNewStoreForm.$invalid">{{'categories.create' | translate}}</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>