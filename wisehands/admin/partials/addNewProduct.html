<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<nav class="double-navbar navbar navbar-fixed-top unique-color z-depth-1 primaryColor" role="navigation">
    <div class="container-fluid">
        <div class="row vcentering">
            <a class="col-xs-2 noPaddingLeft"
               type="button"
               href="#/products">
                <i class="fa fa-arrow-circle-left whiteColor pull-left">
                </i>
            </a>
            <a class="col-xs-8 text-center">
                <h5 class="white-text">{{'addNewProduct.add' | translate}}</h5>
            </a>
            <div class="col-xs-2 noRightPadding">
                <button class="fa fa-save whiteColor pull-right saveProductButtonStyling"
                        type="submit"
                        form="addNewProductForm">
                </button>
            </div>
        </div>
    </div>
</nav>
<div class="container-fluid noSidePadding">
    <div class="row text-center">
        <spinner class="center-block" name="mySpinner" img-src="wisehands/assets/images/spinner/box.gif" show="loading"></spinner>
    </div>
    <form class="col-md-12 noSidePadding" ng-submit="submitProduct()" id="addNewProductForm" name="addNewProductForm" ng-hide="loading">
        <div class="load-product-image col-md-6" ng-click="loadImage()">
            <input name="imageLoader" type="file" id="imageLoader"/>
            <i class="fa fa-plus"></i>
            <div class="item active loaded-photo" ng-show="productImages.length >= 1">
                <img id="main" class="center-block" ng-src="{{productImages[product.mainPhoto]}}" alt="slide1">
            </div>
            <p class="add-photo-text">{{'addNewProduct.addPhoto' | translate}}</p>
            <p class="error-text">{{'addNewProduct.errorLoadPhoto' | translate}}</p>
        </div>
        <div class="add-product-info col-md-6">
            <div class="input-field">
                <input id="product_name" type="text" ng-model="product.name" required>
                <label for="product_name">{{'addNewProduct.productName' | translate}}</label>
            </div>
            <div class="input-field">
                <input id="product_price" type="number" step="0.01" ng-model="product.price" required>
                <label for="product_price">{{'addNewProduct.productPrice' | translate}}</label>
            </div>
            <div class="input-field">
                <textarea id="textarea1" class="materialize-textarea" ng-model="product.description" required></textarea>
                <label for="textarea1">{{'addNewProduct.productDescription' | translate}}</label>
            </div>

            <div class="input-field ">
                <p>{{'addNewProduct.category' | translate}}</p>
                <p id="error-select-category">{{'addNewProduct.errorChooseCategory' | translate}}</p>
                <div class="add-product-category">
                    <div class="create-category" data-toggle="modal" data-target="#categoryModal">
                        <i class="fa fa-plus-circle" aria-hidden="true"></i>
                    </div>
                    <div class="item-category"  ng-repeat="category in categories" ng-class="{selected: category.uuid === selectedCategoryId}">
                        <div class="card-item"  ng-click="chooseCategory(category.uuid)" title="{{category.name}}">
                            <p >{{category.name}}</p></div>
                    </div>
                </div>

            </div>
            <div class="input-field " ng-show="categories.length === 0">
                <p class="text-center redError">{{'addNewProduct.noCategory' | translate}}</p>
            </div>
            <div class="input-field">
                <div class="panel-group" id="accordion">
                    <div class="panel panel-default">
                        <div class="panel-heading cursorPointer" data-toggle="collapse"  data-target="#collapse3">
                            <h4 class="panel-title text-center">
                                {{'addNewProduct.additional' | translate}}
                            </h4>
                        </div>
                        <div id="collapse3" class="panel-collapse collapse">
                            <div class="panel-body">
                                <div class="input-field">
                                    <input type="checkbox" class="filled-in checkBoxStyling" id="filled-in-box" ng-model="product.isActive" ng-init="product.isActive=true" />
                                    <label for="filled-in-box">{{'addNewProduct.showInShop' | translate}}</label>
                                </div>
                            </div>
                            <div class="panel-body">
                                <div class="input-field col-md-12">
                                    <input id="oldPrice" type="number" ng-model="product.oldPrice">
                                    <label for="oldPrice">{{'addNewProduct.oldPrice' | translate}}</label>
                                </div>
                            </div>
                            <div class="panel-body">
                                <div class="input-field col-md-12">
                                    <input id="productOrder" type="number" ng-model="product.sortOrder">
                                    <label for="productOrder">{{'displayOrder' | translate}}</label>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!--<div class="input-field z-index">-->
                <!--&lt;!&ndash;<label for="category" class="active categoryLabelFontSize">{{'addNewProduct.category' | translate}}</label>&ndash;&gt;-->
                <!--<select class="form-control"-->
                        <!--id="category"-->
                        <!--ng-model="product.category"-->
                        <!--ng-options="category as category.name for category in categories track by category.uuid" required>-->
                    <!--<option></option>-->
                <!--</select>-->
            <!--</div>-->
            <!--<div class="input-field white-text">-->
                <!--<button type="button" class="btn secondaryColor waves-effect waves-light pull-right btn-block" data-toggle="modal" data-target="#categoryModal">-->
                    <!--<span>{{'addNewProduct.createCategory' | translate}}</span>-->
                <!--</button>-->
            <!--</div>-->
        </div>







        <div class="file-field input-field col-xs-12 white-text">
            <!--<button type="button" class="btn secondaryColor waves-effect waves-light pull-right btn-block" ng-click="loadImage()">-->
                <!--<span>{{'addNewProduct.addPhoto' | translate}}</span>-->
            <!--</button>-->
        </div>
    </form>
    <!--<div id="car-gall" class="carousel slide carousel-fade carousel-thumbnails carousel-gallery">-->
        <!--<div class="col-sm-7">-->
            <!--<div class="carousel-inner hoverable" role="listbox">-->
                <!--<div class="item active" ng-show="productImages.length >= 1">-->
                    <!--<img id="main" class="center-block" ng-src="{{productImages[product.mainPhoto]}}" alt="slide1">-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
        <!--<div class="col-sm-5">-->
            <!--<ul class="carousel-indicators" ng-show="productImages.length">-->
                <!--<li class="imageFlex" data-slide-to="{{$index}}"  ng-repeat="image in productImages" ng-class="{'active' : $index === product.mainPhoto}">-->
                    <!--<img ng-src="{{image}}"-->
                         <!--class="img-responsive z-depth-1 hoverable"-->
                         <!--data-toggle="tooltip"-->
                         <!--data-placement="top"-->
                         <!--title="{{'addNewProduct.makeMain' | translate}}"-->
                         <!--ng-click="setMainPhotoIndex($index); $event.stopPropagation();">-->
                    <!--<div class="label secondaryColor photoLabelStyle hoverable"-->
                         <!--data-toggle="tooltip"-->
                         <!--data-placement="top"-->
                         <!--title="{{'addNewProduct.deletePhoto' | translate}}"-->
                         <!--ng-click="removeImage($index); $event.stopPropagation();">-->
                        <!--<span class="secondaryColor glyphicon glyphicon-remove-sign"></span>-->
                    <!--</div>-->
                    <!--<button class="btn btn-default" ng-click="editImage(image, $index)">Edit image</button>-->
                <!--</li>-->
            <!--</ul>-->
        <!--</div>-->
    <!--</div>-->
    <canvas id="imageCanvas" class="productImage"></canvas>
</div>
<div class="modal fade" id="categoryModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <form name="categoryForm" ng-submit="createCategory()">
                    <div class="row">
                        <div class="input-field col-md-12">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            <input id="password" type="text" ng-model="newCategory.name" required>
                            <label for="password">{{'categories.categoryName' | translate}}</label>
                        </div>
                        <div class="input-field col-md-12">
                            <textarea id="textarea2" class="materialize-textarea"  ng-model="newCategory.description"></textarea>
                            <label for="textarea2">{{'categories.categoryDescription' | translate}}</label>
                        </div>
                        <spinner class="col-xs-offset-11" name="mySpinner" img-src="wisehands/assets/images/spinner/box-xs.gif" show="loading"></spinner>
                        <button type="submit" class="btn secondaryColor white-text waves-effect waves-light pull-right" ng-hide="loading">{{'categories.create' | translate}}</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>